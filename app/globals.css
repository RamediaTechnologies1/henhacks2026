@import "tailwindcss";
@import "tw-animate-css";
@import "shadcn/tailwind.css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --font-western: var(--font-western);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
}

/* ============================================
   WILD WEST DARK THEME - "The Frontier"
   ============================================ */

:root {
  --radius: 0.625rem;

  /* Wild West Color Palette */
  --ww-bg-deep: #0d0a07;
  --ww-bg: #1a1410;
  --ww-bg-card: #231c14;
  --ww-bg-elevated: #2d2418;
  --ww-border: #3d3124;
  --ww-border-subtle: #2a2019;
  --ww-gold: #c8a55c;
  --ww-gold-bright: #e8c76a;
  --ww-gold-dim: #9a7d3f;
  --ww-copper: #b87333;
  --ww-parchment: #f4e4c1;
  --ww-cream: #e8d5a3;
  --ww-dust: #9c8e7c;
  --ww-leather: #5c3d2e;
  --ww-leather-dark: #3a2519;
  --ww-rust: #8b3a1a;
  --ww-danger: #c44536;
  --ww-sage: #6b7c5e;
  --ww-sky: #4a6fa5;

  /* shadcn overrides - dark western theme */
  --background: #1a1410;
  --foreground: #f4e4c1;
  --card: #231c14;
  --card-foreground: #f4e4c1;
  --popover: #231c14;
  --popover-foreground: #f4e4c1;
  --primary: #c8a55c;
  --primary-foreground: #0d0a07;
  --secondary: #2d2418;
  --secondary-foreground: #e8d5a3;
  --muted: #2d2418;
  --muted-foreground: #9c8e7c;
  --accent: #2d2418;
  --accent-foreground: #e8d5a3;
  --destructive: #c44536;
  --border: #3d3124;
  --input: #3d3124;
  --ring: #c8a55c;
  --chart-1: #c8a55c;
  --chart-2: #6b7c5e;
  --chart-3: #b87333;
  --chart-4: #4a6fa5;
  --chart-5: #c44536;
  --sidebar: #1a1410;
  --sidebar-foreground: #f4e4c1;
  --sidebar-primary: #c8a55c;
  --sidebar-primary-foreground: #0d0a07;
  --sidebar-accent: #2d2418;
  --sidebar-accent-foreground: #e8d5a3;
  --sidebar-border: #3d3124;
  --sidebar-ring: #c8a55c;
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* ============================================
   FILM GRAIN TEXTURE OVERLAY
   ============================================ */
.grain-overlay::after {
  content: '';
  position: fixed;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n' x='0' y='0'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  opacity: 0.03;
  pointer-events: none;
  z-index: 9999;
  animation: grainShift 0.5s steps(10) infinite;
}

@keyframes grainShift {
  0%, 100% { transform: translate(0, 0); }
  10% { transform: translate(-5%, -10%); }
  20% { transform: translate(-15%, 5%); }
  30% { transform: translate(7%, -25%); }
  40% { transform: translate(-5%, 25%); }
  50% { transform: translate(-15%, 10%); }
  60% { transform: translate(15%, 0%); }
  70% { transform: translate(0%, 15%); }
  80% { transform: translate(3%, 35%); }
  90% { transform: translate(-10%, 10%); }
}

/* ============================================
   MAIN BACKGROUND - DARK FRONTIER
   ============================================ */
.fixit-gradient-bg {
  background: linear-gradient(160deg, #0d0a07 0%, #1a1410 25%, #231c14 50%, #1a1410 75%, #0d0a07 100%);
  position: relative;
  overflow: hidden;
}

.fixit-gradient-bg::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background:
    radial-gradient(ellipse at 20% 20%, rgba(200, 165, 92, 0.06) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 80%, rgba(184, 115, 51, 0.05) 0%, transparent 50%),
    radial-gradient(ellipse at 50% 50%, rgba(139, 58, 26, 0.03) 0%, transparent 40%);
  animation: gradientShift 20s ease-in-out infinite;
}

@keyframes gradientShift {
  0%, 100% { transform: translate(0, 0) rotate(0deg); }
  33% { transform: translate(2%, -2%) rotate(0.5deg); }
  66% { transform: translate(-1%, 1%) rotate(-0.5deg); }
}

/* ============================================
   WESTERN CARD STYLES
   ============================================ */

/* Parchment card - like aged paper */
.glass-card {
  background: linear-gradient(145deg, #2d2418 0%, #231c14 100%);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid #3d3124;
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.4),
    0 1px 0 rgba(200, 165, 92, 0.05) inset,
    0 -1px 0 rgba(0, 0, 0, 0.3) inset;
}

.glass-card-dark {
  background: rgba(200, 165, 92, 0.08);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(200, 165, 92, 0.15);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
}

/* Western card with stitched border feel */
.western-card {
  background: linear-gradient(145deg, #2d2418 0%, #231c14 100%);
  border: 1px solid #3d3124;
  box-shadow:
    0 4px 20px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(200, 165, 92, 0.06);
  position: relative;
}

.western-card::before {
  content: '';
  position: absolute;
  inset: 4px;
  border: 1px dashed rgba(200, 165, 92, 0.12);
  border-radius: inherit;
  pointer-events: none;
}

/* ============================================
   PRIORITY STRIPS - BRANDED
   ============================================ */
.priority-strip-critical { border-left: 4px solid #c44536; }
.priority-strip-high { border-left: 4px solid #b87333; }
.priority-strip-medium { border-left: 4px solid #c8a55c; }
.priority-strip-low { border-left: 4px solid #6b7c5e; }

/* ============================================
   ANIMATIONS
   ============================================ */

/* Page enter */
.page-enter {
  animation: pageEnter 0.4s ease-out;
}

@keyframes pageEnter {
  from { opacity: 0; transform: translateY(16px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Staggered reveal */
.stagger-enter > * {
  animation: staggerReveal 0.4s ease-out both;
}
.stagger-enter > *:nth-child(1) { animation-delay: 0ms; }
.stagger-enter > *:nth-child(2) { animation-delay: 80ms; }
.stagger-enter > *:nth-child(3) { animation-delay: 160ms; }
.stagger-enter > *:nth-child(4) { animation-delay: 240ms; }
.stagger-enter > *:nth-child(5) { animation-delay: 320ms; }
.stagger-enter > *:nth-child(6) { animation-delay: 400ms; }

@keyframes staggerReveal {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Pulse glow - golden */
.pulse-glow {
  animation: pulseGlow 2s ease-in-out infinite;
}

@keyframes pulseGlow {
  0%, 100% { box-shadow: 0 0 0 0 rgba(200, 165, 92, 0.4); }
  50% { box-shadow: 0 0 0 10px rgba(200, 165, 92, 0); }
}

/* Floating embers/dust particles */
.floating-orb {
  position: absolute;
  border-radius: 50%;
  filter: blur(60px);
  opacity: 0.12;
  animation: floatOrb 25s ease-in-out infinite;
}

@keyframes floatOrb {
  0%, 100% { transform: translate(0, 0) scale(1); }
  25% { transform: translate(30px, -40px) scale(1.05); }
  50% { transform: translate(-20px, 20px) scale(0.95); }
  75% { transform: translate(15px, -15px) scale(1.02); }
}

/* Shimmer - warm variant */
.shimmer {
  background: linear-gradient(90deg, transparent 0%, rgba(200, 165, 92, 0.15) 50%, transparent 100%);
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* Breathing dot */
.dot-breathing {
  animation: dotBreathe 2s ease-in-out infinite;
}

@keyframes dotBreathe {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.4); opacity: 0.6; }
}

/* ============================================
   PORTAL BACKGROUND
   ============================================ */
.portal-bg {
  background: linear-gradient(180deg, #1a1410 0%, #0d0a07 100%);
  min-height: 100vh;
}

/* ============================================
   CARD INTERACTIONS
   ============================================ */
.card-hover-lift {
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}
.card-hover-lift:hover {
  transform: translateY(-3px);
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(200, 165, 92, 0.1);
  border-color: rgba(200, 165, 92, 0.2);
}
.card-hover-lift:active {
  transform: translateY(0px);
}

.press-scale {
  transition: transform 0.15s ease;
}
.press-scale:active {
  transform: scale(0.97);
}

/* ============================================
   GRADIENT TEXT - GOLD
   ============================================ */
.gradient-text {
  background: linear-gradient(135deg, #c8a55c 0%, #e8c76a 50%, #c8a55c 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.gradient-text-gold {
  background: linear-gradient(135deg, #e8c76a 0%, #c8a55c 40%, #9a7d3f 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ============================================
   STAT CARDS - DARK WESTERN
   ============================================ */
.stat-card-blue {
  background: linear-gradient(145deg, rgba(74, 111, 165, 0.15) 0%, rgba(74, 111, 165, 0.05) 100%);
  border: 1px solid rgba(74, 111, 165, 0.2);
}
.stat-card-red {
  background: linear-gradient(145deg, rgba(196, 69, 54, 0.15) 0%, rgba(196, 69, 54, 0.05) 100%);
  border: 1px solid rgba(196, 69, 54, 0.2);
}
.stat-card-green {
  background: linear-gradient(145deg, rgba(107, 124, 94, 0.15) 0%, rgba(107, 124, 94, 0.05) 100%);
  border: 1px solid rgba(107, 124, 94, 0.2);
}
.stat-card-purple {
  background: linear-gradient(145deg, rgba(140, 100, 170, 0.15) 0%, rgba(140, 100, 170, 0.05) 100%);
  border: 1px solid rgba(140, 100, 170, 0.2);
}
.stat-card-orange {
  background: linear-gradient(145deg, rgba(184, 115, 51, 0.15) 0%, rgba(184, 115, 51, 0.05) 100%);
  border: 1px solid rgba(184, 115, 51, 0.2);
}
.stat-card-gray {
  background: linear-gradient(145deg, rgba(156, 142, 124, 0.12) 0%, rgba(156, 142, 124, 0.04) 100%);
  border: 1px solid rgba(156, 142, 124, 0.15);
}

/* ============================================
   EMPTY STATE
   ============================================ */
.empty-state-circle {
  background: linear-gradient(145deg, #2d2418 0%, #231c14 100%);
  border: 2px dashed rgba(200, 165, 92, 0.2);
}

/* ============================================
   NAVIGATION - DARK SALOON BAR
   ============================================ */
.bottom-nav-glass {
  background: rgba(13, 10, 7, 0.92);
  backdrop-filter: saturate(150%) blur(20px);
  -webkit-backdrop-filter: saturate(150%) blur(20px);
  border-top: 1px solid rgba(200, 165, 92, 0.1);
}

.header-glass {
  background: rgba(26, 20, 16, 0.9);
  backdrop-filter: saturate(150%) blur(20px);
  -webkit-backdrop-filter: saturate(150%) blur(20px);
  border-bottom: 1px solid rgba(200, 165, 92, 0.08);
}

/* ============================================
   BADGE EFFECTS
   ============================================ */
.badge-glow-red {
  box-shadow: 0 0 12px rgba(196, 69, 54, 0.4);
}
.badge-glow-blue {
  box-shadow: 0 0 12px rgba(74, 111, 165, 0.4);
}
.badge-glow-gold {
  box-shadow: 0 0 12px rgba(200, 165, 92, 0.4);
}

/* ============================================
   MAP CONTAINER
   ============================================ */
.map-container {
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.4);
  border: 1px solid #3d3124;
}

/* ============================================
   SECTION HEADER WITH GOLD ACCENT
   ============================================ */
.section-header {
  position: relative;
  padding-left: 14px;
}
.section-header::before {
  content: '';
  position: absolute;
  left: 0;
  top: 3px;
  bottom: 3px;
  width: 3px;
  border-radius: 2px;
  background: linear-gradient(180deg, #c8a55c, #b87333);
}

/* ============================================
   WANTED POSTER / BRANDED DIVIDER
   ============================================ */
.western-divider {
  height: 1px;
  background: linear-gradient(90deg, transparent 0%, rgba(200, 165, 92, 0.3) 50%, transparent 100%);
  margin: 1rem 0;
}

/* ============================================
   STAR BADGE DECORATION
   ============================================ */
.star-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  position: relative;
}
.star-badge::before {
  content: '';
  position: absolute;
  inset: -3px;
  background: conic-gradient(from 0deg, transparent 0deg, rgba(200, 165, 92, 0.15) 30deg, transparent 60deg, rgba(200, 165, 92, 0.1) 120deg, transparent 150deg, rgba(200, 165, 92, 0.15) 210deg, transparent 240deg, rgba(200, 165, 92, 0.1) 300deg, transparent 330deg, rgba(200, 165, 92, 0.15) 360deg);
  border-radius: 50%;
}

/* ============================================
   BRANDED BORDER GLOW ON FOCUS
   ============================================ */
input:focus, textarea:focus, select:focus {
  border-color: rgba(200, 165, 92, 0.5) !important;
  box-shadow: 0 0 0 3px rgba(200, 165, 92, 0.1) !important;
}

/* ============================================
   SCROLLBAR - WESTERN DARK
   ============================================ */
::-webkit-scrollbar {
  width: 6px;
}
::-webkit-scrollbar-track {
  background: #0d0a07;
}
::-webkit-scrollbar-thumb {
  background: #3d3124;
  border-radius: 3px;
}
::-webkit-scrollbar-thumb:hover {
  background: #4d3f30;
}

/* ============================================
   DUST PARTICLES BACKGROUND
   ============================================ */
.dust-particles {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
  overflow: hidden;
}

.dust-particle {
  position: absolute;
  width: 2px;
  height: 2px;
  background: rgba(200, 165, 92, 0.3);
  border-radius: 50%;
  animation: dustFloat linear infinite;
}

@keyframes dustFloat {
  0% { transform: translateY(100vh) translateX(0); opacity: 0; }
  10% { opacity: 0.6; }
  90% { opacity: 0.6; }
  100% { transform: translateY(-10vh) translateX(50px); opacity: 0; }
}

/* ============================================
   WESTERN BUTTON STYLES
   ============================================ */
.btn-western {
  background: linear-gradient(145deg, #c8a55c 0%, #9a7d3f 100%);
  color: #0d0a07;
  font-weight: 700;
  border: 1px solid rgba(200, 165, 92, 0.3);
  box-shadow: 0 4px 16px rgba(200, 165, 92, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.15);
  transition: all 0.2s ease;
}
.btn-western:hover {
  background: linear-gradient(145deg, #e8c76a 0%, #c8a55c 100%);
  box-shadow: 0 6px 24px rgba(200, 165, 92, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2);
  transform: translateY(-1px);
}
.btn-western:active {
  transform: translateY(0px);
  box-shadow: 0 2px 8px rgba(200, 165, 92, 0.15);
}

.btn-danger {
  background: linear-gradient(145deg, #c44536 0%, #8b3a1a 100%);
  color: #f4e4c1;
  border: 1px solid rgba(196, 69, 54, 0.3);
  box-shadow: 0 4px 16px rgba(196, 69, 54, 0.2);
}

.btn-sage {
  background: linear-gradient(145deg, #6b7c5e 0%, #4d5c42 100%);
  color: #f4e4c1;
  border: 1px solid rgba(107, 124, 94, 0.3);
  box-shadow: 0 4px 16px rgba(107, 124, 94, 0.2);
}
